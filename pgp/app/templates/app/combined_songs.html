<!-- templates/myapp/tailwind_table.html -->
{% extends "base_without_tailwind.html" %}

{% block title %}Combined Songs List{% endblock %}

{% block content %}
    <div class="container mx-auto my-8">
        <h1 class="text-2xl font-bold mb-4">Totallista</h1>
        <table id="songsTable" class="display">
            <thead>
                <tr>
                    <th>Dato</th>
                    <th>Artist</th>
                    <th>Tittel</th>
                    <th>Levert av</th>
                    <th>Tema</th>
                    <th>Spotify</th>
                </tr>
            </thead>
            <tbody>
                {% for song in combined_songs %}
                <tr>
                    <td>{{ song.dato }}</td>
                    <td>{{ song.artist }}</td>
                    <td>{{ song.tittel }}</td>
                    <td>{{ song.levert_av }}</td>
                    <td>{{ song.tema }}</td>
                    <td><a href="{{ song.spotify }}" target="_blank">Låt</a></td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="6" class="text-center">No songs found.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>

    <script>
        $(document).ready(function() {
            $('#songsTable').DataTable({
                paging: true,
                searching: true,
                ordering: true,
                pageLength: 10,
                language: {
                    // Translated texts
                    search: "Søk:",
                    lengthMenu: "Vis _MENU_ bidrag per side",
                    info: "Viser _START_ til _END_ av _TOTAL_ bidrag",
                    infoEmpty: "Ingen bidrag tilgjengeleg",
                    infoFiltered: "(filtrert frå _MAX_ totale bidrag)",
                    paginate: {
                        first: "Første",
                        last: "Siste",
                        next: "Neste",
                        previous: "Førre"
                    },
                    zeroRecords: "Ingen bidrag funne"
                }
            });
        });
    </script>
{% endblock %}
